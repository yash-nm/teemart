<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Teemart India</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
	.mynavbar {
	  position: fixed;
	  top: 0;
	  left: 0;
	  right: 0;
	  z-index: 1030; /* keep it above other elements */
	}
	
    .thumbnail-img {
      width: 70px;
      height: 90px;
      object-fit: cover;
      cursor: pointer;
      border: 1px solid #ddd;
      margin-right: 0.5rem;
    }
    .price .original {
      text-decoration: line-through;
      color: gray;
      margin-left: 0.5rem;
    }
    .option-btn {
      margin: 0.25rem;
    }
    .main-img {
      width: 100%;
      max-height: 600px;
      object-fit: cover;
      border: 1px solid #ccc;
    }
	
	
  </style>
</head>
<body>

	<!-- Navbar -->
		  <nav class="mynavbar navbar navbar-expand-md bg-white shadow-sm py-3">
		    <div class="container">
		      <!-- Logo -->
	  	     <a class="navbar-brand " th:href="@{/teemart/index}">
	  	        <!--<img src="" alt="Logo Fashion" height="40">-->
	  			<svg width="230" height="30" viewBox="0 0 290 60" xmlns="http://www.w3.org/2000/svg">
	  			  <text x="0" y="45" font-family="Arial Black, sans-serif" font-size="40" fill="#000000" letter-spacing="1">
	  			    TeeMart
	  			  </text>
	  			</svg>  
	  	      </a>
			  
			  <ul class="navbar-nav ms-md-5 text-sm d-flex gap-5">
			  			<li class="nav-item">
			  				<a th:href="@{/teemart/index}" style="text-decoration: none; color: inherit;"><span style="color: #231f20; font-family: Montserrat,Helvetica,Arial,sans-serif; font-size: 13px; font-weight: 500; font-style: normal;">Men</span></a>
			  			</li>
						<li class="nav-item">
							<span style="color: #231f20; font-family: Montserrat,Helvetica,Arial,sans-serif; font-size: 13px; font-weight: 500; font-style: normal;">Blog</span>
						</li> 
						<li class="nav-item">
							<span style="color: #231f20; font-family: Montserrat,Helvetica,Arial,sans-serif; font-size: 13px; font-weight: 500; font-style: normal;">About</span>
						</li> 
			  </ul>
			  
		      <!-- Toggler for mobile -->
		      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
		        <span class="navbar-toggler-icon"></span>
		      </button>

		      <!-- Collapsible content -->
		      <div class="collapse navbar-collapse " id="navbarContent"  >

		        <!-- Right links -->
		        <ul class="navbar-nav  text-sm ms-auto">
					<li class="nav-item me-3">
										<a href="#"  style="text-align: center; text-decoration: none; color: #222;">
											      <div class="gap-3" style="display: flex; flex-direction: row; align-items: center; ">
													<img th:src="@{/images/avatar/icons8-heart-50.png}" height="24px" width="24px"   />
											      </div>					
										</a>
					</li>
					<li class="nav-item me-3">
						<a href="#" onclick="toggleDropdown()" style="text-align: center; text-decoration: none; color: #222;">
							      <div class="gap-3" style="display: flex; flex-direction: row; align-items: center; ">
									<img th:src="@{/images/avatar/icons8-customer-50.png}" height="24px" width="24px"   />
							      </div>
								<!-- Dropdown -->
								<div id="profileDropdown"   th:if="${user!=null}" style="display: none; position: absolute; right: 50px;    top:50px;  background: white;   box-shadow: 0 4px 8px rgba(0,0,0,0.1); min-width: 200px; min-height: 70px; z-index: 100;">
									
										<a href="/profile" style="display: block; padding: 10px; text-decoration: none; color: #333; font-weight: 500; font-size: medium; " th:text="'Hello '+${user.name}+','">Hello </a>	
										<a href="/profile" style="display: block; padding: 10px; text-decoration: none; color: #333; font-weight: 500; font-size: small; ">My Orders</a>
										<a th:href="@{/teemart/user/logout}" style="display: block; padding: 10px; text-decoration: none; color: #e00; font-weight: 500; font-size: small;">Logout</a>
								</div> 
								
				  			    <div id="profileDropdown"  th:if="${user==null}"   style="display: none; position: absolute; right: 50px;    top:50px;  background: white;   box-shadow: 0 4px 8px rgba(0,0,0,0.1); min-width: 200px; min-height: 70px; z-index: 100;">
				  			      	<a th:href="@{/teemart/login}" style="display: block; padding: 5px; text-decoration: none; color: rgb(255, 255, 255); background: #222; margin: auto; margin-top: 7%; text-align: center; width: 150px; font-weight: 500; font-size: small;">Login/Signup</a>
				  			    </div>
						</a>
					</li>
					<li class="nav-item me-3">
									<a th:href="@{/teemart/bag}"  style="text-align: center; text-decoration: none; color: #222;">
										      <div class="position-relative gap-3" style="display: flex; flex-direction: row; align-items: center; ">
												<img th:src="@{/images/avatar/icons8-bag-50.png}" height="24px" width="24px"   />
												<!-- Notification Badge -->
													  	  <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" th:if="${cartitems.size()>0}">
													  	    [[${#lists.size(cartitems)}]]
													  	    <span class="visually-hidden">unread messages</span>
													  	  </span>
										      </div>			
									</a> 
					</li>
		        </ul>

		      </div>
		    </div>
		  </nav>
		  <!-- NAV BAR -->
	
<div class="flex-grow-1 mt-5" style=" overflow-y: auto;">	  
<div class="container-fluid py-5"  style="margin-left: 10px; width: 95vw; " >
  <div class="row " >
	
	<div class="col-md-1" style="border-left: 1px solid grey;" >
		<div class="mt-3 d-flex flex-column gap-2">
		        <img th:src="@{'/images/Round_T-shirt/'+${tshirt.image}}" class="thumbnail-img" id="thumbnail-img1"  onclick="updateMainImage(this.src,this.id,this.className)" />
				<img th:src="@{'/images/Round_T-shirt/'+${tshirt.image2}}" class="thumbnail-img" id="thumbnail-img2"  onclick="updateMainImage(this.src,this.id,this.className)" />
		</div>
	</div>
	
    <!-- Left: Images -->
    <div class="col-md-4 ms-5" >
      <img id="mainImage" class="main-img img-fluid" th:src="@{'/images/Round_T-shirt/'+${tshirt.getImage()}}" alt="Tees">
	<!--
      <div class="mt-3 d-flex">
        <img th:src="@{'/images/Round_T-shirt/'+${tshirt.getImage()}}" class="thumbnail-img"  style="border:1px solid rgb(0, 128, 255);" onclick="updateMainImage(this.src)" />
        <img src="https://via.placeholder.com/70x90.png?text=2" class="thumbnail-img" onclick="updateMainImage(this.src)" />
        <img src="https://via.placeholder.com/70x90.png?text=3" class="thumbnail-img" onclick="updateMainImage(this.src)" />
      </div>
	  -->
    </div>

    <!-- Right: Details -->
    <div class="col-md-5 ms-auto" >
      <h1 th:text="${tshirt.type}" ></h1>
      <div class="price h4" >
		<span th:text="'₹'+${tshirt.price}"></span>
        <span class="original" >₹1000</span>
      </div>
      <p class="text-muted">Inclusive of all taxes</p>

      <p>
        Elevate your everyday wardrobe with this elegant Elgon Top. Designed for comfort and style, it’s perfect for both casual and formal occasions.
      </p>

      <!-- Color options -->
      <h6>Color</h6>
      <div>
        <button class="btn btn-outline-dark option-btn tshirtcolor" style="border-radius: 0;" onclick="handleOptionClick(this,'tshirtcolor')" data-color="Blue">Blue</button>
        <button class="btn btn-outline-dark option-btn tshirtcolor" style="border-radius: 0;" onclick="handleOptionClick(this,'tshirtcolor')" data-color="Black">Black</button>
        <button class="btn btn-outline-dark option-btn tshirtcolor" style="border-radius: 0;" onclick="handleOptionClick(this,'tshirtcolor')" data-color="White">White</button>
      </div>

      <!-- Size options -->
      <h6 class="mt-3">Size</h6>
      <div >
        <!--<button class="btn btn-outline-secondary option-btn">XS</button>-->
		<button class="btn btn-outline-dark option-btn tshirtsize" style="border-radius: 0;"  onclick="handleOptionClick(this,'tshirtsize')" data-size="XS" >XS</button>
        <button class="btn btn-outline-dark option-btn tshirtsize" style="border-radius: 0;" onclick="handleOptionClick(this,'tshirtsize')" data-size="S">S</button>
        <button class="btn btn-outline-dark option-btn tshirtsize" style="border-radius: 0;" onclick="handleOptionClick(this,'tshirtsize')" data-size="M">M</button>
        <button class="btn btn-outline-dark option-btn tshirtsize" style="border-radius: 0;" onclick="handleOptionClick(this,'tshirtsize')" data-size="L">L</button>
        <button class="btn btn-outline-dark option-btn tshirtsize" style="border-radius: 0;" onclick="handleOptionClick(this,'tshirtsize')" data-size="XL">XL</button>
      </div>

      <!-- Add to cart button -->
	<!--<a th:href="@{/teemart/addtshirttocart/tshirtid-{id}(id=${tshirt.id})}" style="text-decoration: none; color: inherit;">-->
      <div class="d-flex  mt-4"  >
		
        	<button class="btn btn-secondary px-4 py-2 flex-grow-1" id="addtobag" style="border-radius: 0;" th:data-href="@{/teemart/addtshirttocart/tshirtid-{id}(id=${tshirt.id})}" 
 				 onclick="redirectToBag(this)"  disabled>Add to Bag</button>
		
      	</div>
	
      <!-- Policies -->
      <div class="mt-5">
        <h5>Returns & Exchanges</h5>
        <ul class="list-unstyled">
          <li>✓ Request return within 15 days.</li>
          <li>✓ Easy pickup from your doorstep.</li>
          <li>✓ Full refund after quality check.</li>
        </ul>
      </div>
    </div>
  </div>
</div>
</div>




<footer class=" text-white pt-0" style="background: black;">
  <div class="container-fluid">
	<!-- Newsletter & Social -->
    <div class="row  py-3" style="background: rgb(39, 39, 39);">
      <div class="col-md-6 ">
        <a href="#" class="text-white-50 me-3"><i class="bi bi-facebook fs-5"></i></a>
        <a href="#" class="text-white-50 me-3"><i class="bi bi-instagram fs-5"></i></a>
        <a href="#" class="text-white-50 me-3"><i class="bi bi-twitter fs-5"></i></a>
        <a href="#" class="text-white-50"><i class="bi bi-youtube fs-5"></i></a>
      </div>
	  <div class="col-md-6 ms-auto text-end text-white-50 small">
	        © 2025 Teemart Pvt Ltd. All rights reserved.
	  </div>
    </div>

    <div class="row mt-3">
      <!-- Column 1 -->
      <div class="col-6 col-md-3 mb-4">
        <h6 class="text-uppercase fw-semibold">Account</h6>
        <ul class="list-unstyled small">
          <li><a href="#" class="text-white-50 text-decoration-none">My Account</a></li>
          <li><a href="#" class="text-white-50 text-decoration-none">Track Order</a></li>
        </ul>
      </div>
      <!-- Column 2 -->
      <div class="col-6 col-md-3 mb-4">
        <h6 class="text-uppercase fw-semibold">Shop</h6>
        <ul class="list-unstyled small">
          <li><a href="#" class="text-white-50 text-decoration-none">Women</a></li>
          <li><a href="#" class="text-white-50 text-decoration-none">Accessories</a></li>
        </ul>
      </div>

      <!-- Column 3 -->
      <div class="col-6 col-md-3 mb-4">
        <h6 class="text-uppercase fw-semibold">Company</h6>
        <ul class="list-unstyled small">
          <li><a href="#" class="text-white-50 text-decoration-none">About Us</a></li>
          <li><a href="#" class="text-white-50 text-decoration-none">Store Locator</a></li>
        </ul>
      </div>
      <!-- Column 4 -->
      <div class="col-6 col-md-3 mb-4">
        <h6 class="text-uppercase fw-semibold">Help</h6>
        <ul class="list-unstyled small">
          <li><a href="#" class="text-white-50 text-decoration-none">Shipping</a></li>
          <li><a href="#" class="text-white-50 text-decoration-none">Returns</a></li>
          <li><a href="#" class="text-white-50 text-decoration-none">Terms & Conditions</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>


<script>
  function updateMainImage(src,id,cls) {
    document.getElementById('mainImage').src = src;
	document.querySelectorAll('.' + cls).forEach(el => {
	    el.style.border = 'none';
	  });
	document.getElementById(id).style.border = "1px solid rgb(0, 128, 255)";
  }
</script>
<script>
// Dropdown 
  function toggleDropdown() {
    const dropdown = document.getElementById("profileDropdown");
    dropdown.style.display = (dropdown.style.display === "block") ? "none" : "block";
  }
// Optional: Close dropdown when clicking outside
  document.addEventListener("click", function(event) {
    const profileDropdown = document.getElementById("profileDropdown");
    const profileIcon = event.target.closest("nav div");

    if (!profileIcon || !profileIcon.contains(event.target)) {
      profileDropdown.style.display = "none";
    }
  });

</script>


<script>
	// Reusable function to handle selection
	function handleOptionClick(clickedBtn, groupClass) {
	  const container = clickedBtn.parentElement; // or document, if needed
	  const currentActive = container.querySelector("." + groupClass + ".active");

	  if (currentActive && currentActive !== clickedBtn) {
	    currentActive.classList.remove("active");
	  }

	  // Toggle the clicked button
	  clickedBtn.classList.toggle("active");
	  
	  if(isSizeAndColorSelected())
	  {
		document.getElementById("addtobag").disabled = false;
		document.getElementById("addtobag").classList.remove("btn-secondary");
		document.getElementById("addtobag").classList.add("btn-dark");
	  }
	  else{
		document.getElementById("addtobag").disabled = true;
		document.getElementById("addtobag").classList.remove("btn-dark");
		document.getElementById("addtobag").classList.add("btn-secondary");
	  }
	  
	}
	function isSizeAndColorSelected() {
	  const sizeSelected = document.querySelector(".tshirtsize.active") !== null;
	  const colorSelected = document.querySelector(".tshirtcolor.active") !== null;

	  return sizeSelected && colorSelected;
	}
	function redirectToBag(btn)
	{
		var url = btn.dataset.href;
		
		var color = document.querySelector(".tshirtcolor.active").dataset.color;
		var size = document.querySelector(".tshirtsize.active").dataset.size;
		
		url = url+"?size="+encodeURIComponent(size) + "&color=" + encodeURIComponent(color);;
		window.location.href = url; 
	}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
